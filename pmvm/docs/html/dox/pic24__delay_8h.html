<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Python-on-a-chip: src/platform/pic24/include/pic24_delay.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_ff1f71d793b0515fd7dbd2b1cc3fec2f.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_2c625301b0ca3cea9e351d6d9d508db6.html">platform</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_c9bf31d8fd1519586bf3b2a638186d26.html">pic24</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f48e1b8378cd93b454a95fc1e7fde775.html">include</a>
  </div>
</div>
<div class="contents">
<h1>pic24_delay.h File Reference</h1><code>#include &quot;<a class="el" href="pic24__util_8h_source.html">pic24_util.h</a>&quot;</code><br>
<code>#include &lt;libpic30.h&gt;</code><br>

<p>
<a href="pic24__delay_8h_source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic24__delay_8h.html#9adb8f368f368faf5d13c1aa02107b94">DEBOUNCE_DLY</a>&nbsp;&nbsp;&nbsp;15</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic24__delay_8h.html#1e1844f448217847d0978635707c42d6">CYCLES_PER_MS</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>)(FCY * 0.001))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic24__delay_8h.html#b81cff0e46e175a7687c24e2cd937a9b">CYCLES_PER_US</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>)(FCY * 0.000001))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic24__delay_8h.html#22f064707db63ec3e40d5a5caf36a771">DELAY_MS</a>(ms)&nbsp;&nbsp;&nbsp;delayAndUpdateHeartbeatCount(CYCLES_PER_MS * ((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>) ms));</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic24__delay_8h.html#60aba7cd6f93c0f065c51db5481f2cb4">DELAY_US</a>(us)&nbsp;&nbsp;&nbsp;delayAndUpdateHeartbeatCount(CYCLES_PER_US * ((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>) us));</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic24__delay_8h.html#56d41870c21d00c1acc74dcbaae8cd80">delayAndUpdateHeartbeatCount</a> (<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a> u32_cyc)</td></tr>

</table>
<hr><h2>Detailed Description</h2>
Provides simple software delays. They are not cycle-accurate, however. These routines are integrated with a <a class="el" href="pic24__util_8h.html#6ec988b2aa566e75a8c7bdff4be72865">heartbeat LED</a>, so the heartbeat count is updated during a delay. 
<p>Definition in file <a class="el" href="pic24__delay_8h_source.html">pic24_delay.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="1e1844f448217847d0978635707c42d6"></a><!-- doxytag: member="pic24_delay.h::CYCLES_PER_MS" ref="1e1844f448217847d0978635707c42d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CYCLES_PER_MS&nbsp;&nbsp;&nbsp;((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>)(FCY * 0.001))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A constant which gives the number of processor clock cycles in 1 millisecond. This value is cast to a uint32. 
<p>Definition at line <a class="el" href="pic24__delay_8h_source.html#l00052">52</a> of file <a class="el" href="pic24__delay_8h_source.html">pic24_delay.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b81cff0e46e175a7687c24e2cd937a9b"></a><!-- doxytag: member="pic24_delay.h::CYCLES_PER_US" ref="b81cff0e46e175a7687c24e2cd937a9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CYCLES_PER_US&nbsp;&nbsp;&nbsp;((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>)(FCY * 0.000001))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A constant which gives the number of processor clock cycles in 1 microsecond. This value is cast to a uint32. 
<p>Definition at line <a class="el" href="pic24__delay_8h_source.html#l00058">58</a> of file <a class="el" href="pic24__delay_8h_source.html">pic24_delay.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9adb8f368f368faf5d13c1aa02107b94"></a><!-- doxytag: member="pic24_delay.h::DEBOUNCE_DLY" ref="9adb8f368f368faf5d13c1aa02107b94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBOUNCE_DLY&nbsp;&nbsp;&nbsp;15          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define a debounce delay for use in reading pushbutton switches. The value is specified in milliseconds. 
<p>Definition at line <a class="el" href="pic24__delay_8h_source.html#l00045">45</a> of file <a class="el" href="pic24__delay_8h_source.html">pic24_delay.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="22f064707db63ec3e40d5a5caf36a771"></a><!-- doxytag: member="pic24_delay.h::DELAY_MS" ref="22f064707db63ec3e40d5a5caf36a771" args="(ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DELAY_MS          </td>
          <td>(</td>
          <td class="paramtype">ms&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;delayAndUpdateHeartbeatCount(CYCLES_PER_MS * ((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>) ms));</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro to delay the given number of milliseconds. The maximum delay is ~ 100+ seconds when FCY = 40 MHz, because the underlying function <a class="el" href="pic24__delay_8h.html#56d41870c21d00c1acc74dcbaae8cd80">delayAndUpdateHeartbeatCount</a> uses a uint32 value for the number of processor clocks to delay. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>The number of milliseconds to delay. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="pic24__delay_8h_source.html#l00088">88</a> of file <a class="el" href="pic24__delay_8h_source.html">pic24_delay.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="60aba7cd6f93c0f065c51db5481f2cb4"></a><!-- doxytag: member="pic24_delay.h::DELAY_US" ref="60aba7cd6f93c0f065c51db5481f2cb4" args="(us)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DELAY_US          </td>
          <td>(</td>
          <td class="paramtype">us&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;delayAndUpdateHeartbeatCount(CYCLES_PER_US * ((<a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>) us));</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro to delay the given number of microseconds. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="pic24__delay_8h.html#22f064707db63ec3e40d5a5caf36a771">DELAY_MS</a> for additional information. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>us</em>&nbsp;</td><td>The number of microseconds to delay. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="pic24__delay_8h_source.html#l00094">94</a> of file <a class="el" href="pic24__delay_8h_source.html">pic24_delay.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="56d41870c21d00c1acc74dcbaae8cd80"></a><!-- doxytag: member="pic24_delay.h::delayAndUpdateHeartbeatCount" ref="56d41870c21d00c1acc74dcbaae8cd80" args="(uint32 u32_cyc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void delayAndUpdateHeartbeatCount           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pic24__generic_8h.html#4b435a49c74bb91f284f075e63416cb6">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>u32_cyc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delay the given number of processor clock cycles, then notify the heartbeat that time passed. Scale the time added to the heartbeat because we are not incurring the same overhead as if we repeatedly called <code><a class="el" href="pic24__util_8c.html#6ec988b2aa566e75a8c7bdff4be72865">doHeartbeat()</a></code>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>u32_cyc</em>&nbsp;</td><td>Number of processor clock cycles to delay. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="pic24__delay_8h_source.html#l00072">72</a> of file <a class="el" href="pic24__delay_8h_source.html">pic24_delay.h</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 18 07:40:48 2010 for Python-on-a-chip by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
