<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Python-on-a-chip: The PIC24 and dsPIC33 port</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="PIC24_dsPIC33_port">The PIC24 and dsPIC33 port </a></h1><dl class="author" compact><dt><b>Author:</b></dt><dd>Bryan A. Jones</dd></dl>
<h2><a class="anchor" name="purpose">
Purpose</a></h2>
This is a sample project that demonstrates the use of PyMite on the <a href="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&nodeId=2629&param=en533465">PIC24 and dsPIC33 family</a> of microcontrollers. Any PIC with at least 128 KiB of program memory and 4 KiB of RAM can run PyMite.<h2><a class="anchor" name="details">
Details</a></h2>
This sample project demonstrates a simple use case of python-on-a-chip (p14p) on a microcontroller. The file <a class="el" href="pic24_2main_8c.html">main.c</a> is used to initialize p14p and indicate the name of the module it should run. In this case, it will run the module <a class="el" href="pic24_2main_8py.html">main.py</a>.<p>
In the module <a class="el" href="pic24_2main_8py.html">main.py</a>, we see that the program prints a "Hello world" message, defines and runs an initialization function and then executes <a class="el" href="namespaceipm.html" title="Interactive PyMite.">ipm</a>.<p>
Additional sample code in <a class="el" href="sample__lib_8py.html" title="Sample code to illustrate use of PIC24/dsPIC33-specific Python functions.">sample_lib.py</a> illustrates use of the <a class="el" href="pic24__dspic33_8py.html">PIC24/dsPIC33</a> library. The program <a class="el" href="robot_8py_source.html">robot.py</a> gives code to operate a simple robot.<h2><a class="anchor" name="building">
Building the Project</a></h2>
First, install <a href="http://www.cygwin.com">Cygwin</a>, manually selecting installation of make. To build documentation, install <a href="http://docutils.sourceforge.net">docutils</a> and <a href="http://www.doxygen.org">Doxygen</a>.<p>
Open the p14p.mcp project file with the <a href="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&nodeId=1406&dDocName=en019469&part=SW007002">Microchip MPLAB IDE</a> then build the project. However, you must have the path to Cygwin's make.exe in your Windows path for this to work.<p>
Alternatively, you can compile from the command line. Start with a clean PyMite tree. Edit <a href="../../../src/platform/pic24/Makefile">src/platform/pic24/Makefile</a> near line 14 to set the part number of your PIC. Then, execute the following at the command prompt, which will build the PyMite VM archive as well as the sample application.<p>
<div class="fragment"><pre class="fragment">
    $ cd src/platform/pic24
    $ make
</pre></div><h2><a class="anchor" name="flashing">
Flashing the Binary</a></h2>
The steps above result in the binary file that need to go on the PIC. Use a PICKit2/3 to program your PIC. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 18 07:40:49 2010 for Python-on-a-chip by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
