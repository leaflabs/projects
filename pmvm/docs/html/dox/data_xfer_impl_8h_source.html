<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Python-on-a-chip: src/platform/pic24/include/dataXferImpl.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_ff1f71d793b0515fd7dbd2b1cc3fec2f.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_2c625301b0ca3cea9e351d6d9d508db6.html">platform</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_c9bf31d8fd1519586bf3b2a638186d26.html">pic24</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f48e1b8378cd93b454a95fc1e7fde775.html">include</a>
  </div>
</div>
<div class="contents">
<h1>dataXferImpl.h</h1><a href="data_xfer_impl_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * "Copyright (c) 2008 Robert B. Reese, Bryan A. Jones, J. W. Bruce ("AUTHORS")"</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment"> * (R. Reese, reese_AT_ece.msstate.edu, Mississippi State University)</span>
<a name="l00005"></a>00005 <span class="comment"> * (B. A. Jones, bjones_AT_ece.msstate.edu, Mississippi State University)</span>
<a name="l00006"></a>00006 <span class="comment"> * (J. W. Bruce, jwbruce_AT_ece.msstate.edu, Mississippi State University)</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * Permission to use, copy, modify, and distribute this software and its</span>
<a name="l00009"></a>00009 <span class="comment"> * documentation for any purpose, without fee, and without written agreement is</span>
<a name="l00010"></a>00010 <span class="comment"> * hereby granted, provided that the above copyright notice, the following</span>
<a name="l00011"></a>00011 <span class="comment"> * two paragraphs and the authors appear in all copies of this software.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * IN NO EVENT SHALL THE "AUTHORS" BE LIABLE TO ANY PARTY FOR</span>
<a name="l00014"></a>00014 <span class="comment"> * DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING OUT</span>
<a name="l00015"></a>00015 <span class="comment"> * OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF THE "AUTHORS"</span>
<a name="l00016"></a>00016 <span class="comment"> * HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * THE "AUTHORS" SPECIFICALLY DISCLAIMS ANY WARRANTIES,</span>
<a name="l00019"></a>00019 <span class="comment"> * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY</span>
<a name="l00020"></a>00020 <span class="comment"> * AND FITNESS FOR A PARTICULAR PURPOSE.  THE SOFTWARE PROVIDED HEREUNDER IS</span>
<a name="l00021"></a>00021 <span class="comment"> * ON AN "AS IS" BASIS, AND THE "AUTHORS" HAS NO OBLIGATION TO</span>
<a name="l00022"></a>00022 <span class="comment"> * PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS."</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * Please maintain this header in its entirety when copying/modifying</span>
<a name="l00025"></a>00025 <span class="comment"> * these files.</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> */</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef __DATA_XFER_IMPL_H__</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#define __DATA_XFER_IMPL_H__</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00098"></a>00098 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="comment">// Determine if we're compiling for the PIC or not.</span>
<a name="l00101"></a>00101 <span class="preprocessor">#if defined(__PIC24H__) || defined(__PIC24F__) || defined(__dsPIC33F__) || defined(__PIC24FK__)</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#define __PIC__</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="pic24__all_8h.html">pic24_all.h</a>"</span>
<a name="l00104"></a>00104 <span class="preprocessor">#endif</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span>
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">// Specify that this is C code for proper C++ linking</span>
<a name="l00108"></a>00108 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00110"></a>00110 <span class="preprocessor">#endif</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span>
<a name="l00119"></a>00119 <span class="comment">// @{</span>
<a name="l00120"></a>00120 <span class="preprocessor">#if defined(__cplusplus)</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span><span class="preprocessor">#ifndef NULL</span>
<a name="l00123"></a>00123 <span class="preprocessor">#define NULL nullptr</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>
<a name="l00126"></a>00126 <span class="preprocessor">#ifndef FALSE</span>
<a name="l00128"></a>00128 <span class="preprocessor">#define FALSE false</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>
<a name="l00131"></a>00131 <span class="preprocessor">#ifndef TRUE</span>
<a name="l00133"></a>00133 <span class="preprocessor">#define TRUE true</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span>
<a name="l00138"></a>00138 <span class="preprocessor">#define BOOL bool</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span>
<a name="l00142"></a>00142 <span class="preprocessor">#ifndef ASSERT</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span><span class="preprocessor">        #ifdef _NOASSERT</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span><span class="preprocessor">        #define ASSERT(placeholder) (void)0</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="preprocessor">        #else</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span><span class="preprocessor">                #define ASSERT(x) if (!(x)) throw #x</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span><span class="preprocessor">        #endif</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00151"></a>00151 <span class="preprocessor">#ifndef ASSERTM</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">        #ifdef _NOASSERT</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span><span class="preprocessor">        #define ASSERT(msg, expr) (void)0</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span><span class="preprocessor">        #else</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span><span class="preprocessor">                #define ASSERTM(msg, expr) if (! (expr)) throw msg ": " #expr</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="preprocessor">        #endif</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="preprocessor">#else</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span>
<a name="l00162"></a>00162 <span class="preprocessor">#ifndef FALSE</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span><span class="preprocessor">#define FALSE 0</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00165"></a>00165 <span class="preprocessor"></span>
<a name="l00166"></a>00166 <span class="preprocessor">#ifndef TRUE</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span><span class="preprocessor">#define TRUE 1</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span>
<a name="l00170"></a>00170 <span class="preprocessor">#ifndef ASSERT</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span><span class="preprocessor">        #ifdef _NOASSERT</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span><span class="preprocessor">        #define ASSERT(placeholder) (void)0</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span><span class="preprocessor">        #else</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span><span class="preprocessor">                #include &lt;assert.h&gt;</span>
<a name="l00175"></a>00175 <span class="preprocessor">                #define ASSERT(x) assert(x)</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span><span class="preprocessor">        #endif</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span>
<a name="l00180"></a>00180 <span class="preprocessor">#ifndef ASSERTM</span>
<a name="l00181"></a><a class="code" href="data_xfer_impl_8h.html#33a4d3a85113c3a5c304eeae57b7137a">00181</a> <span class="preprocessor"></span><span class="preprocessor">#define ASSERTM(msg, expr) ASSERT(expr)</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>
<a name="l00184"></a>00184 <span class="preprocessor">#define BOOL unsigned char</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="comment">// @}</span>
<a name="l00187"></a>00187 
<a name="l00189"></a><a class="code" href="data_xfer_impl_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">00189</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="data_xfer_impl_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14" title="An abbreviation for an unsigned integer.">uint</a>;
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 <span class="preprocessor">#ifndef __PIC__</span>
<a name="l00193"></a><a class="code" href="data_xfer_impl_8h.html#dde6aaee8457bee49c2a92621fe22b79">00193</a> <span class="preprocessor">typedef unsigned char uint8;</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="comment">// Unit testing: uncomment the following line to run PIC tests on PC.</span>
<a name="l00198"></a>00198 <span class="comment">//#define __PIC__</span>
<a name="l00199"></a>00199 
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 
<a name="l00207"></a><a class="code" href="data_xfer_impl_8h.html#c030999e4420a07577861b4d21b6801d">00207</a> <span class="preprocessor">#define CMD_TOKEN ((char) 0xAA)</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span>
<a name="l00211"></a><a class="code" href="data_xfer_impl_8h.html#e0338256a3c57ff4a7d4b13d8e0478be">00211</a> <span class="preprocessor">#define ESCAPED_CMD  ((char) 0xFC)</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>
<a name="l00215"></a><a class="code" href="data_xfer_impl_8h.html#9f731ffc9163356df358d257c86cd6ae">00215</a> <span class="preprocessor">#define CMD_LONG_VAR  ((char) 0xFD)</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>
<a name="l00219"></a><a class="code" href="data_xfer_impl_8h.html#119818cf1e6a6ab5d5794c6dcbf49486">00219</a> <span class="preprocessor">#define CMD_SEND_ONLY ((char) 0xFE)</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span>
<a name="l00223"></a><a class="code" href="data_xfer_impl_8h.html#7cea5d133b83265bcc10b0df19f17920">00223</a> <span class="preprocessor">#define CMD_SEND_RECEIVE_VAR ((char) 0xFF)</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span>
<a name="l00227"></a><a class="code" href="data_xfer_impl_8h.html#34a5d6a262f96f509ebba2a579dc864e">00227</a> <span class="preprocessor">#define VAR_SIZE_BITS 2</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span>
<a name="l00230"></a><a class="code" href="data_xfer_impl_8h.html#389d8066f3429d0455b6732edb2669b8">00230</a> <span class="preprocessor">#define VAR_SIZE_MASK ((1 &lt;&lt; VAR_SIZE_BITS) - 1)</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span>
<a name="l00234"></a><a class="code" href="data_xfer_impl_8h.html#9a5bb32dd8c606071c3c6686458e3b96">00234</a> <span class="preprocessor">#define SHORT_VAR_MAX_LEN (1 &lt;&lt; VAR_SIZE_BITS)</span>
<a name="l00235"></a>00235 <span class="preprocessor"></span>
<a name="l00238"></a><a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a9">00238</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> { 
<a name="l00240"></a><a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a9de4bb0b5f432d4a6b2b370e1470d9986">00240</a>         <a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a9de4bb0b5f432d4a6b2b370e1470d9986" title="The machine is in its starting state.">STATE_CMD_START</a>,
<a name="l00242"></a><a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a9a09f53fcb5cbc28b37b757d02809f926">00242</a>         <a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a9a09f53fcb5cbc28b37b757d02809f926" title="The machine is waiting for another character; c_outChar is not valid.">STATE_CMD_WAIT1</a>,
<a name="l00244"></a><a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a91b4a7ebac011be8612c2726981fc5bc5">00244</a>         <a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a91b4a7ebac011be8612c2726981fc5bc5" title="The machine is waiting for an additional character; c_outChar is not valid.">STATE_CMD_WAIT2</a>
<a name="l00245"></a>00245 } <a class="code" href="data_xfer_impl_8h.html#b188fab2b107ae1acf2a9e281db031a9">CMD_STATE</a>;
<a name="l00246"></a>00246 
<a name="l00249"></a><a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c892478">00249</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00251"></a><a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c8924789f0b894e3dc50ff72279fce4265eabfa">00251</a>         <a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c8924789f0b894e3dc50ff72279fce4265eabfa" title="The state machine produced no output, but is waiting for additional input.">OUTPUT_CMD_NONE</a>,
<a name="l00253"></a><a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c89247895c226c42fc66df08ce067b3d29b2d7a">00253</a>         <a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c89247895c226c42fc66df08ce067b3d29b2d7a" title="A character was received; c_outChar contains the character.">OUTPUT_CMD_CHAR</a>,
<a name="l00255"></a><a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c8924782b1010fe86752d63e23a355f97eca327">00255</a>         <a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c8924782b1010fe86752d63e23a355f97eca327" title="A command was received; c_outChar contains the command.">OUTPUT_CMD_CMD</a>,
<a name="l00257"></a><a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c892478b01a98dae30c9d12b3f10fbffc6c164d">00257</a>         <a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c892478b01a98dae30c9d12b3f10fbffc6c164d" title="A repeated command was received; c_outChar contains the command.">OUTPUT_CMD_REPEATED_CMD</a>,
<a name="l00261"></a><a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c892478b74bc03edf148af6da6794c80c1d2046">00261</a>         <a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c892478b74bc03edf148af6da6794c80c1d2046">OUTPUT_CMD_REPEATED_WAIT</a>
<a name="l00262"></a>00262 } <a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c892478">CMD_OUTPUT</a>;
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 <span class="keywordtype">void</span> <a class="code" href="data_xfer_impl_8c.html#6d6a3c48f416deea3d00d7006e001398">resetCommandFindMachine</a>();
<a name="l00265"></a>00265 <a class="code" href="data_xfer_impl_8h.html#b1a030fbdcdf0ee4ce1b32e17c892478">CMD_OUTPUT</a> <a class="code" href="data_xfer_impl_8c.html#6f26709dd9173df6129d3332c3b5439e">stepCommandFindMachine</a>(<span class="keywordtype">char</span> c_inChar, <span class="keywordtype">char</span>* <a class="code" href="data_xfer_impl_8c.html#398abbda0f050677a9189c00ac78991f">c_outChar</a>);
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 
<a name="l00271"></a>00271 
<a name="l00272"></a>00272 
<a name="l00275"></a><a class="code" href="struct_x_f_e_r___v_a_r.html">00275</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00278"></a><a class="code" href="struct_x_f_e_r___v_a_r.html#2603cbcad09cf02deeca6150f7943cbe">00278</a>   <a class="code" href="data_xfer_impl_8h.html#dde6aaee8457bee49c2a92621fe22b79" title="An abbreviation for an 8-bit unsigned integer.">uint8</a>* pu8_data;
<a name="l00280"></a><a class="code" href="struct_x_f_e_r___v_a_r.html#1ddd645bc9f43e85bf89d4dce367aaee">00280</a>   <a class="code" href="data_xfer_impl_8h.html#dde6aaee8457bee49c2a92621fe22b79" title="An abbreviation for an 8-bit unsigned integer.">uint8</a> u8_size;
<a name="l00281"></a>00281 <span class="preprocessor">#if !defined(__PIC__) || defined(__DOXYGEN__)</span>
<a name="l00283"></a><a class="code" href="struct_x_f_e_r___v_a_r.html#9316961a417a5569b1fb694532b97b4e">00283</a> <span class="preprocessor">  char* psz_format;</span>
<a name="l00286"></a><a class="code" href="struct_x_f_e_r___v_a_r.html#c98b73512f3c37c16bd49af9127e6912">00286</a> <span class="preprocessor">  char* psz_name;</span>
<a name="l00288"></a><a class="code" href="struct_x_f_e_r___v_a_r.html#564febe7e468bbb148b6601c9e640dc4">00288</a> <span class="preprocessor">  char* psz_desc;</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span>} <a class="code" href="struct_x_f_e_r___v_a_r.html">XFER_VAR</a>;
<a name="l00291"></a>00291 
<a name="l00293"></a><a class="code" href="data_xfer_impl_8h.html#3d14a9fcd9a82c542d41517ceffcd61c">00293</a> <span class="preprocessor">#define MAX_NUM_XFER_VARS ((1 &lt;&lt; (8 - VAR_SIZE_BITS)) - 1)</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span>
<a name="l00297"></a><a class="code" href="data_xfer_impl_8h.html#d5c4dcae370b21267b8b9e729d6f0a12">00297</a> <span class="preprocessor">#define NUM_XFER_VARS 62</span>
<a name="l00298"></a>00298 <span class="preprocessor"></span><span class="preprocessor">#if NUM_XFER_VARS &gt; MAX_NUM_XFER_VARS</span>
<a name="l00299"></a>00299 <span class="preprocessor"></span><span class="preprocessor">#error Too many transfer variables; there must be MAX_NUM_XFER_VARS or fewer.</span>
<a name="l00300"></a>00300 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00301"></a>00301 <span class="preprocessor"></span>
<a name="l00303"></a>00303 <span class="keyword">extern</span> <a class="code" href="struct_x_f_e_r___v_a_r.html">XFER_VAR</a> <a class="code" href="data_xfer_impl_8c.html#c0a9a04ad6199a5de64bdbe7bf26dcef" title="A table to hold the state of transfer variables.">xferVar</a>[<a class="code" href="data_xfer_impl_8h.html#d5c4dcae370b21267b8b9e729d6f0a12">NUM_XFER_VARS</a>];
<a name="l00304"></a>00304 
<a name="l00308"></a>00308 <span class="keyword">extern</span> <a class="code" href="data_xfer_impl_8h.html#dde6aaee8457bee49c2a92621fe22b79" title="An abbreviation for an 8-bit unsigned integer.">uint8</a> <a class="code" href="data_xfer_impl_8c.html#c2194a9d9df536210c11fbf2240e69f6">au8_xferVarWriteable</a>[<a class="code" href="data_xfer_impl_8h.html#d5c4dcae370b21267b8b9e729d6f0a12">NUM_XFER_VARS</a>/8 + ((<a class="code" href="data_xfer_impl_8h.html#d5c4dcae370b21267b8b9e729d6f0a12">NUM_XFER_VARS</a> % 8) &gt; 0)];
<a name="l00309"></a>00309 
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 
<a name="l00313"></a>00313 
<a name="l00315"></a>00315 
<a name="l00316"></a>00316 
<a name="l00320"></a><a class="code" href="data_xfer_impl_8h.html#c3b73f8a40c184ba86de681e2f46db95">00320</a> <span class="preprocessor">#define CHAR_RECEIVED_INDEX 0xFF</span>
<a name="l00321"></a>00321 <span class="preprocessor"></span>
<a name="l00324"></a><a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f7553175">00324</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00326"></a><a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f75531759364a4b5788020188b6abe33023787ba">00326</a>                 <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f75531759364a4b5788020188b6abe33023787ba" title="At the start of the machine.">STATE_RECV_START</a>,
<a name="l00328"></a><a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f755317513190ec5b467a4d2a8ee3f99d072f24a">00328</a>                 <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f755317513190ec5b467a4d2a8ee3f99d072f24a" title="Waiting for a command or escaped CMD_TOKEN.">STATE_RECV_CMD_WAIT</a>,
<a name="l00330"></a><a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f75531752df6c611684df657d5ccbb147ddf809f">00330</a>                 <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f75531752df6c611684df657d5ccbb147ddf809f" title="Reading data bytes in from a command.">STATE_RECV_READ_BYTES</a>,
<a name="l00332"></a><a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f75531756bd11857884d0302d3b51bba38718ce1">00332</a>                 <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f75531756bd11857884d0302d3b51bba38718ce1" title="Reading the variable index for a long var command.">STATE_RECV_LONG_INDEX</a>,
<a name="l00334"></a><a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f755317508e51a3702d84a5c257cc2dff48179b1">00334</a>                 <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f755317508e51a3702d84a5c257cc2dff48179b1" title="Reading the variable length for a long/specification command.">STATE_RECV_LONG_LENGTH</a>,
<a name="l00336"></a><a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f7553175bfa81e6f5963a015193b553165457971">00336</a>                 <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f7553175bfa81e6f5963a015193b553165457971" title="Reading the variable index for a specification command.">STATE_RECV_SPEC_INDEX</a>,
<a name="l00337"></a>00337 } <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f7553175">RECEIVE_STATE</a>;
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 
<a name="l00343"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35">00343</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00347"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe355203071ca85e00df6bf2526855b6df0d">00347</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe355203071ca85e00df6bf2526855b6df0d">ERR_NONE</a> = 0,
<a name="l00351"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe3577d7e55d0946e5a98eaccaeb1e2337ff">00351</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe3577d7e55d0946e5a98eaccaeb1e2337ff">ERR_REPEATED_CMD</a>,
<a name="l00354"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35c568baeb6407ef5e2630084ccbc34be8">00354</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35c568baeb6407ef5e2630084ccbc34be8">ERR_TIMEOUT</a>,
<a name="l00357"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe3572c58c413381361691654fcbd7b07c99">00357</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe3572c58c413381361691654fcbd7b07c99">ERR_INTERRUPTED_CMD</a>,
<a name="l00360"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe3526004f2f1c3567b3a01cfc9435f0af4b">00360</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe3526004f2f1c3567b3a01cfc9435f0af4b">ERR_UNSPECIFIED_INDEX</a>,
<a name="l00363"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe354091145e664bb13023f7735bd5b3502a">00363</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe354091145e664bb13023f7735bd5b3502a">ERR_INDEX_TOO_HIGH</a>,
<a name="l00366"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe352ef01463d8749f58ce891c9fd09705ad">00366</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe352ef01463d8749f58ce891c9fd09705ad">ERR_VAR_SIZE_MISMATCH</a>,
<a name="l00368"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35eabc553354b0b90a3d4c9f7117ec85da">00368</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35eabc553354b0b90a3d4c9f7117ec85da" title="The destination variable is read-only.">ERR_READ_ONLY_VAR</a>,
<a name="l00370"></a><a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35dd66e7fb37394ca1c23bd4834d9bc141">00370</a>         <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35dd66e7fb37394ca1c23bd4834d9bc141" title="The PIC is sent a variable specification.">ERR_PIC_VAR_SPEC</a>
<a name="l00371"></a>00371 } <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35">RECEIVE_ERROR</a>;
<a name="l00372"></a>00372 
<a name="l00374"></a><a class="code" href="data_xfer_impl_8h.html#2c3b22fc7b885c6bc66b8b99150c72a7">00374</a> <span class="preprocessor">#define NUM_ERROR_CODES (ERR_PIC_VAR_SPEC + 1)</span>
<a name="l00375"></a>00375 <span class="preprocessor"></span>
<a name="l00376"></a>00376 <a class="code" href="data_xfer_impl_8h.html#2a0cb6e5359e1dbd57e7d9c5f7553175">RECEIVE_STATE</a> <a class="code" href="data_xfer_impl_8c.html#f2103196903e52449c42cd2f706a1322">getReceiveMachineState</a>();
<a name="l00377"></a>00377 <span class="keywordtype">char</span> <a class="code" href="data_xfer_impl_8c.html#93f852a70873a4eccf33a641831edcc9">getReceiveMachineOutChar</a>();
<a name="l00378"></a>00378 uint <a class="code" href="data_xfer_impl_8c.html#f8eddb59b77b975d08ebb9e7a6526537">getReceiveMachineIndex</a>();
<a name="l00379"></a>00379 <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35">RECEIVE_ERROR</a> <a class="code" href="data_xfer_impl_8c.html#98ec4e0c5b28ab4bdb142c1a574bdd66">getReceiveMachineError</a>();
<a name="l00380"></a>00380 <span class="preprocessor">#if !defined(__PIC__) || defined(__DOXYGEN__)</span>
<a name="l00381"></a>00381 <span class="preprocessor"></span>BOOL <a class="code" href="data_xfer_impl_8c.html#8693905c4b567b12cf0286efd42645ce">getReceiveMachineIsSpec</a>();
<a name="l00382"></a>00382 <span class="preprocessor">#endif</span>
<a name="l00383"></a>00383 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="data_xfer_impl_8c.html#88302adaa29892c6510f62f02fb3b9d5">resetReceiveMachine</a>();
<a name="l00384"></a>00384 <span class="keywordtype">void</span> <a class="code" href="data_xfer_impl_8c.html#796095508d6d656513f4ccd7395e9318">clearReceiveMachineError</a>();
<a name="l00385"></a>00385 <span class="keywordtype">void</span> <a class="code" href="data_xfer_impl_8c.html#0189f5419bb58d8916c1fce932db075c">clearReceiveStruct</a>();
<a name="l00386"></a>00386 BOOL <a class="code" href="data_xfer_impl_8c.html#670121ee07a7e4faf0b9b351f3b9fc47">isReceiveMachineChar</a>(<span class="keywordtype">char</span>* c_receivedChar);
<a name="l00387"></a>00387 BOOL <a class="code" href="data_xfer_impl_8c.html#039415d43b0f6599bbdb72a994ba9285">isReceiveMachineData</a>(uint* u_receivedIndex);
<a name="l00388"></a>00388 <span class="preprocessor">#if !defined(__PIC__) || defined(__DOXYGEN__)</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span>BOOL <a class="code" href="data_xfer_impl_8c.html#565ffb3ae1f08ecf4930ba7d46744a4f">isReceiveMachineSpec</a>(uint* u_receivedIndex);
<a name="l00390"></a>00390 <span class="preprocessor">#endif</span>
<a name="l00391"></a>00391 <span class="preprocessor"></span>uint <a class="code" href="data_xfer_impl_8c.html#2e9795e72fbf757c6549765ba2c89a9e">getVarIndex</a>(<span class="keywordtype">char</span> c_cmd);
<a name="l00392"></a>00392 uint <a class="code" href="data_xfer_impl_8c.html#89e85c68120126246adc4f072d43b2bf">getVarLength</a>(<span class="keywordtype">char</span> c_cmd);
<a name="l00393"></a>00393 <span class="keywordtype">void</span> <a class="code" href="data_xfer_impl_8c.html#fc32b49afeeacd9d9fc4976f63b0076a">assignBit</a>(uint <a class="code" href="data_xfer_impl_8c.html#feb773a9af9ee230a907dca43735820e">u_index</a>, BOOL b_bitVal);
<a name="l00394"></a>00394 BOOL <a class="code" href="data_xfer_impl_8c.html#2b0ce3b905ea6f76ea7f1955de20f6b0">isVarWriteable</a>(uint <a class="code" href="data_xfer_impl_8c.html#feb773a9af9ee230a907dca43735820e">u_index</a>);
<a name="l00395"></a>00395 <a class="code" href="data_xfer_impl_8h.html#52e92fbc847f630acac0efda8b4cfe35">RECEIVE_ERROR</a> <a class="code" href="data_xfer_impl_8c.html#490cf0a4e7c271e69024398d9b1744d9">stepReceiveMachine</a>(<span class="keywordtype">char</span> c_inChar, BOOL b_isTimeout);
<a name="l00396"></a>00396 <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="data_xfer_impl_8c.html#58e88d11491909c93779d60aed335f9d" title="Returns an error string matching the last error code.">getReceiveErrorString</a>();
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00399"></a>00399 <span class="preprocessor"></span>}
<a name="l00400"></a>00400 <span class="preprocessor">#endif</span>
<a name="l00401"></a>00401 <span class="preprocessor"></span>
<a name="l00402"></a>00402 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 18 07:40:46 2010 for Python-on-a-chip by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
