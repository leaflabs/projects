<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Python-on-a-chip: src/platform/pic24/include/pic24_clockfreq.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_ff1f71d793b0515fd7dbd2b1cc3fec2f.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_2c625301b0ca3cea9e351d6d9d508db6.html">platform</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_c9bf31d8fd1519586bf3b2a638186d26.html">pic24</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f48e1b8378cd93b454a95fc1e7fde775.html">include</a>
  </div>
</div>
<div class="contents">
<h1>pic24_clockfreq.h</h1><a href="pic24__clockfreq_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * "Copyright (c) 2008 Robert B. Reese, Bryan A. Jones, J. W. Bruce ("AUTHORS")"</span>
<a name="l00003"></a>00003 <span class="comment"> * All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment"> * (R. Reese, reese_AT_ece.msstate.edu, Mississippi State University)</span>
<a name="l00005"></a>00005 <span class="comment"> * (B. A. Jones, bjones_AT_ece.msstate.edu, Mississippi State University)</span>
<a name="l00006"></a>00006 <span class="comment"> * (J. W. Bruce, jwbruce_AT_ece.msstate.edu, Mississippi State University)</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * Permission to use, copy, modify, and distribute this software and its</span>
<a name="l00009"></a>00009 <span class="comment"> * documentation for any purpose, without fee, and without written agreement is</span>
<a name="l00010"></a>00010 <span class="comment"> * hereby granted, provided that the above copyright notice, the following</span>
<a name="l00011"></a>00011 <span class="comment"> * two paragraphs and the authors appear in all copies of this software.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * IN NO EVENT SHALL THE "AUTHORS" BE LIABLE TO ANY PARTY FOR</span>
<a name="l00014"></a>00014 <span class="comment"> * DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING OUT</span>
<a name="l00015"></a>00015 <span class="comment"> * OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF THE "AUTHORS"</span>
<a name="l00016"></a>00016 <span class="comment"> * HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * THE "AUTHORS" SPECIFICALLY DISCLAIMS ANY WARRANTIES,</span>
<a name="l00019"></a>00019 <span class="comment"> * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY</span>
<a name="l00020"></a>00020 <span class="comment"> * AND FITNESS FOR A PARTICULAR PURPOSE.  THE SOFTWARE PROVIDED HEREUNDER IS</span>
<a name="l00021"></a>00021 <span class="comment"> * ON AN "AS IS" BASIS, AND THE "AUTHORS" HAS NO OBLIGATION TO</span>
<a name="l00022"></a>00022 <span class="comment"> * PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS."</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * Please maintain this header in its entirety when copying/modifying</span>
<a name="l00025"></a>00025 <span class="comment"> * these files.</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> */</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">// Documentation for this file. If the \file tag isn't present,</span>
<a name="l00032"></a>00032 <span class="comment">// this file won't be documented.</span>
<a name="l00070"></a>00070 <span class="comment"></span><span class="preprocessor">#ifndef _PIC24_CLOCKFREQ_H_</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="preprocessor">#define _PIC24_CLOCKFREQ_H_</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span>
<a name="l00096"></a>00096 <span class="preprocessor">#ifndef CLOCK_CONFIG</span>
<a name="l00097"></a><a class="code" href="pic24__clockfreq_8h.html#b2de3ee577ee3013b8954a5cfa7a9805">00097</a> <span class="preprocessor"></span><span class="preprocessor">#define CLOCK_CONFIG SIM_CLOCK</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00101"></a>00101 
<a name="l00132"></a>00132 <span class="comment">//  Table entries are:</span>
<a name="l00133"></a>00133 <span class="comment">//      #define name                    Unique index  FNOSC_SEL     FCY        POSCMD_SEL   POSC_FREQ  Processor                           configClock name                           Magic number of 498</span>
<a name="l00134"></a>00134 <span class="comment">//      ------------------------------  ------------  ------------  ---------  ----------   ---------  ----------------------------------  ----------------                           -------------------</span>
<a name="l00135"></a><a class="code" href="pic24__clockfreq_8h.html#a276553dfc62bbb7cd17dc25a0a60cf3">00135</a> <span class="preprocessor">#define SIM_CLOCK                       0,            -1,            1000000L, POSCMD_NONE,       -1,  1,                                  configClockSim,                            498</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#define FRCPLL_FCY16MHz                 1,            FNOSC_FRCPLL, 16000000L, POSCMD_NONE,       -1,  (PIC24F_DEFINED || PIC24FK_DEFINED),  configClockFRCPLL_FCY16MHz,                498</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span><span class="preprocessor">#define FRC_FCY4MHz                     2,            FNOSC_FRC,     4000000L, POSCMD_NONE,       -1,  (PIC24F_DEFINED || PIC24FK_DEFINED),  configClockFRC_FCY4MHz,                    498</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span><span class="preprocessor">#define PRI_NO_PLL_7372KHzCrystal       3,            FNOSC_PRI,     3686400L, POSCMD_XT,   7372800L,  (PIC24F_DEFINED || PIC24FK_DEFINED || PIC24H_DEFINED || dsPIC33F_DEFINED), configClockPRI_NO_PLL_7372KHzCrystal,      498</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">#define FRC_FCY3685KHz                  4,            FNOSC_FRC,     3685000L, POSCMD_NONE,       -1,  (PIC24H_DEFINED || dsPIC33F_DEFINED),                     configClockFRC_FCY3685KHz,                 498</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span><span class="preprocessor">#define FRCPLL_FCY40MHz                 5,            FNOSC_FRCPLL, 40000000L, POSCMD_NONE,       -1,  (PIC24H_DEFINED || dsPIC33F_DEFINED),                     configClockFRCPLL_FCY40MHz,                498</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#define PRIPLL_7372KHzCrystal_40MHzFCY  6,            FNOSC_PRIPLL, 40000000L, POSCMD_XT,   7372800L,  (PIC24H_DEFINED || dsPIC33F_DEFINED),                     configClockPRIPLL_7372KHzCrystal_40MHzFCY, 498</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="preprocessor">#define PRIPLL_8MHzCrystal_40MHzFCY     7,            FNOSC_PRIPLL, 40000000L, POSCMD_XT,   8000000L,  (PIC24H_DEFINED || dsPIC33F_DEFINED),                     configClockPRIPLL_8MHzCrystal_40MHzFCY,    498</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span><span class="preprocessor">#define PRIPLL_8MHzCrystal_16MHzFCY     8,            FNOSC_PRIPLL, 16000000L, POSCMD_XT,   8000000L,  (PIC24F_DEFINED || PIC24FK_DEFINED),                     configClockPRIPLL_8MHzCrystal_16MHzFCY,    498</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span><span class="preprocessor">#define PRI_8MHzCrystal_4MHzFCY         9,            FNOSC_PRI,     4000000L, POSCMD_XT,   8000000L,  (PIC24F_DEFINED || PIC24FK_DEFINED || PIC24H_DEFINED || dsPIC33F_DEFINED), configClockPRI_8MHzCrystal_4MHzFCY,        498</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>
<a name="l00147"></a>00147 <span class="preprocessor"></span>
<a name="l00148"></a>00148 <span class="preprocessor">#ifndef __DOXYGEN__ // The following non-standard #if confuses Doxygen</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span><span class="comment">// Check to make sure the CLOCK_CONFIG choice selected</span>
<a name="l00150"></a>00150 <span class="comment">// exists and is valid. Otherwise, the compiler emits some very</span>
<a name="l00151"></a>00151 <span class="comment">// confusing errors. Cute hack: the last value in the #define</span>
<a name="l00152"></a>00152 <span class="comment">// above (the magic number) is what the #if tests in gcc.</span>
<a name="l00153"></a>00153 <span class="preprocessor">#if (CLOCK_CONFIG != 498)</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span><span class="preprocessor">#error ***********************************************************************</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span><span class="preprocessor">#error * Value chosen for CLOCK_CONFIG does not exist or is not valid!       *</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="preprocessor">#error * This produces very confusing compiler errors below.                 *</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span><span class="preprocessor">#error ***********************************************************************</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>
<a name="l00161"></a>00161 <span class="comment">// For some reason, primary oscillator selections are named</span>
<a name="l00162"></a>00162 <span class="comment">// POSCMD_xx in the PIC24H and POSCMOD_xx in the PIC24F.</span>
<a name="l00163"></a>00163 <span class="comment">// Work around this.</span>
<a name="l00164"></a>00164 <span class="comment">// Hopefully, this will be defined in PIC24F headers at some point</span>
<a name="l00166"></a>00166 <span class="comment"></span><span class="preprocessor">#ifndef POSCMD_EC</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span><span class="preprocessor">#define POSCMD_EC   POSCMOD_EC</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span><span class="preprocessor">#define POSCMD_XT   POSCMOD_XT</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span><span class="preprocessor">#define POSCMD_HS   POSCMOD_HS</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span><span class="preprocessor">#define POSCMD_NONE POSCMOD_NONE</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span>
<a name="l00174"></a>00174 <span class="preprocessor"></span><span class="comment">// Turn clock config type info the right #defines, using</span>
<a name="l00175"></a>00175 <span class="comment">// a three step process:</span>
<a name="l00176"></a>00176 <span class="comment">// Step 1. Just use another macro to turn params (viewied as one argument here)</span>
<a name="l00177"></a>00177 <span class="comment">//         to multiple arguments to the underscore version of the macro</span>
<a name="l00179"></a>00179 <span class="comment"></span><span class="preprocessor">#define GET_CLOCK_CONFIG_INDEX(params)    _GET_CLOCK_CONFIG_INDEX(params)</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span><span class="preprocessor">#define GET_FNOSC_SEL(params)             _GET_FNOSC_SEL(params)</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span><span class="preprocessor">#define GET_FCY(params)                   _GET_FCY(params)</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="preprocessor">#define GET_POSCMD_SEL(params)            _GET_POSCMD_SEL(params)</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span><span class="preprocessor">#define GET_POSC_FREQ(params)             _GET_POSC_FREQ(params)</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span><span class="preprocessor">#define GET_IS_SUPPORTED(params)          _GET_IS_SUPPORTED(params)</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#define GET_CONFIG_DEFAULT_CLOCK(params)  _GET_CONFIG_DEFAULT_CLOCK(params)</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>
<a name="l00187"></a>00187 <span class="comment">// Step 2. Return the desired parameter, now that params are seen as</span>
<a name="l00188"></a>00188 <span class="comment">//         individual arguments.</span>
<a name="l00189"></a>00189 <span class="preprocessor">#define _GET_CLOCK_CONFIG_INDEX(ndx, oscSel, Fcy, posCmdSel, poscFreq, isSupported, configClock, magic)        ndx</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span><span class="preprocessor">#define _GET_FNOSC_SEL(ndx, oscSel, Fcy, posCmdSel, poscFreq, isSupported, configClockFunc, magic)             oscSel</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#define _GET_FCY(ndx, oscSel, Fcy, posCmdSel, poscFreq, isSupported, configClockFunc, magic)                   Fcy</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span><span class="preprocessor">#define _GET_POSCMD_SEL(ndx, oscSel, Fcy, posCmdSel, poscFreq, isSupported, configClockFunc, magic)            posCmdSel</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span><span class="preprocessor">#define _GET_POSC_FREQ(ndx, oscSel, Fcy, posCmdSel, poscFreq, isSupported, configClockFunc, magic)             poscFreq</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span><span class="preprocessor">#define _GET_IS_SUPPORTED(ndx, oscSel, Fcy, posCmdSel, poscFreq, isSupported, configClockFunc, magic)          isSupported</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span><span class="preprocessor">#define _GET_CONFIG_DEFAULT_CLOCK(ndx, oscSel, Fcy, posCmdSel, poscFreq, isSupported, configClockFunc, magic)  configClockFunc</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span><span class="comment">// Step 3. Call the macros above to set constants based on the</span>
<a name="l00197"></a>00197 <span class="comment">//         clock config selected.</span>
<a name="l00199"></a>00199 <span class="comment"></span><span class="preprocessor">#define CLOCK_CONFIG_INDEX      GET_CLOCK_CONFIG_INDEX(CLOCK_CONFIG)</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span><span class="preprocessor">#define FNOSC_SEL               GET_FNOSC_SEL(CLOCK_CONFIG)</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span><span class="preprocessor">#define FCY                     GET_FCY(CLOCK_CONFIG)</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span><span class="preprocessor">#define POSCMD_SEL              GET_POSCMD_SEL(CLOCK_CONFIG)</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span><span class="preprocessor">#define POSC_FREQ               GET_POSC_FREQ(CLOCK_CONFIG)</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span><span class="preprocessor">#define CONFIG_DEFAULT_CLOCK()  GET_CONFIG_DEFAULT_CLOCK(CLOCK_CONFIG)()</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>
<a name="l00206"></a>00206 <span class="comment">// Verify that the current processor is supported by the clock</span>
<a name="l00207"></a>00207 <span class="comment">// configuration chosen.</span>
<a name="l00208"></a>00208 <span class="comment">// 1. Set up some #defines as booleans which tell which processor</span>
<a name="l00209"></a>00209 <span class="comment">//    is selected for this compile.</span>
<a name="l00211"></a>00211 <span class="comment"></span><span class="preprocessor">#ifdef __PIC24F__</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span><span class="preprocessor">#define PIC24F_DEFINED 1</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span><span class="preprocessor">#define PIC24F_DEFINED 0</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span><span class="preprocessor">#ifdef __PIC24H__</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span><span class="preprocessor">#define PIC24H_DEFINED 1</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00219"></a>00219 <span class="preprocessor"></span><span class="preprocessor">#define PIC24H_DEFINED 0</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span><span class="preprocessor">#ifdef __dsPIC33F__</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span><span class="preprocessor">#define dsPIC33F_DEFINED 1</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span><span class="preprocessor">#define dsPIC33F_DEFINED 0</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span><span class="preprocessor">#ifdef __PIC24FK__</span>
<a name="l00227"></a>00227 <span class="preprocessor"></span><span class="preprocessor">#define PIC24FK_DEFINED 1</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span><span class="preprocessor">#define PIC24FK_DEFINED 0</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span>
<a name="l00232"></a>00232 <span class="comment">// 2. Check to see if this clock configuration supports that processor.</span>
<a name="l00233"></a>00233 <span class="preprocessor">#if !GET_IS_SUPPORTED(CLOCK_CONFIG)</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span><span class="preprocessor">#error The clock configuration chosen is not supported by this processor.</span>
<a name="l00235"></a>00235 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00236"></a>00236 <span class="preprocessor"></span><span class="comment">// 3. Check that the primary oscillator type chosen works for the</span>
<a name="l00237"></a>00237 <span class="comment">//    oscilallator frequency selected. If the primary</span>
<a name="l00238"></a>00238 <span class="preprocessor">#if (POSCMD_SEL == POSCMD_XT) &amp;&amp; ( (POSC_FREQ &lt; 3500000L) || (POSC_FREQ &gt; 10000000L) )</span>
<a name="l00239"></a>00239 <span class="preprocessor"></span><span class="preprocessor">#error The XT oscialltor chosen in POSCMD_SEL does not support this frequency!</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span><span class="preprocessor">#error Valid ranges are from 3.5 MHz to 10 MHz.</span>
<a name="l00241"></a>00241 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span><span class="preprocessor">#if (POSCMD_SEL == POSCMD_HS) &amp;&amp; ( (POSC_FREQ &lt; 10000000L) || (POSC_FREQ &gt; 32000000L) )</span>
<a name="l00243"></a>00243 <span class="preprocessor"></span><span class="preprocessor">#error The HS oscialltor chosen in POSCMD_SEL does not support this frequency!</span>
<a name="l00244"></a>00244 <span class="preprocessor"></span><span class="preprocessor">#error Valid ranges are from 10 MHz to 32 MHz.</span>
<a name="l00245"></a>00245 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00247"></a>00247 <span class="preprocessor"></span>
<a name="l00250"></a>00250 <span class="preprocessor"></span>
<a name="l00251"></a>00251 <span class="preprocessor"></span>
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 
<a name="l00327"></a>00327 
<a name="l00338"></a><a class="code" href="pic24__clockfreq_8h.html#07a2b11a1574d4aee183495472cb9089">00338</a> <span class="preprocessor">#define IS_CLOCK_CONFIG(clockConfig) _GET_CLOCK_CONFIG_INDEX(clockConfig) == CLOCK_CONFIG_INDEX</span>
<a name="l00339"></a>00339 <span class="preprocessor"></span>
<a name="l00344"></a><a class="code" href="pic24__clockfreq_8h.html#5fbef09c59f551f99c1a79e3dff1b72f">00344</a> <span class="preprocessor">#define GET_OSC_SEL_BITS(bits) _GET_OSC_SEL_BITS(bits)</span>
<a name="l00346"></a>00346 <span class="preprocessor">#if defined(__PIC24H__) || defined (__PIC24FK__) || defined(__dsPIC33F__) || defined(__DOXYGEN__)</span>
<a name="l00347"></a>00347 <span class="preprocessor"></span><span class="preprocessor">#define _GET_OSC_SEL_BITS(bits) ((bits &gt;&gt; 0) &amp; 0x07)</span>
<a name="l00348"></a>00348 <span class="preprocessor"></span><span class="preprocessor">#elif defined (__PIC24F__) </span>
<a name="l00349"></a>00349 <span class="preprocessor"></span><span class="preprocessor">#define _GET_OSC_SEL_BITS(bits) ((bits &gt;&gt; 8) &amp; 0x07)</span>
<a name="l00350"></a>00350 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00351"></a>00351 <span class="preprocessor"></span><span class="preprocessor">#error Unknown processor</span>
<a name="l00352"></a>00352 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00353"></a>00353 <span class="preprocessor"></span><span class="comment">// Note: putting the \ endcond here causes Doxygen 1.5.6</span>
<a name="l00354"></a>00354 <span class="comment">// to complain. ???</span>
<a name="l00357"></a><a class="code" href="pic24__clockfreq_8h.html#48cc82e45d755fb067ec21ad11b97f03">00357</a> <span class="comment"></span><span class="preprocessor">#define OSC_SEL_BITS GET_OSC_SEL_BITS(FNOSC_SEL)</span>
<a name="l00358"></a>00358 <span class="preprocessor"></span>
<a name="l00359"></a>00359 <span class="comment">// Double check to make sure the oscillator selection above is valid.</span>
<a name="l00360"></a>00360 <span class="preprocessor">#if ( (OSC_SEL_BITS &lt; 0) || (OSC_SEL_BITS &gt; 7) )</span>
<a name="l00361"></a>00361 <span class="preprocessor"></span><span class="preprocessor">#error Invalid oscillator selection FNOSC_SEL.</span>
<a name="l00362"></a>00362 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00363"></a>00363 <span class="preprocessor"></span>
<a name="l00369"></a>00369 <span class="preprocessor">#if GET_IS_SUPPORTED(SIM_CLOCK)</span>
<a name="l00370"></a>00370 <span class="preprocessor"></span>
<a name="l00378"></a>00378 <span class="keywordtype">void</span> <a class="code" href="pic24__clockfreq_8h.html#5e5ed5e34c011f06dc271b7bedf0acf9">configClockSim</a>(<span class="keywordtype">void</span>);
<a name="l00379"></a>00379 <span class="preprocessor">#endif</span>
<a name="l00380"></a>00380 <span class="preprocessor"></span>
<a name="l00381"></a>00381 <span class="preprocessor">#if GET_IS_SUPPORTED(FRCPLL_FCY16MHz)</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockFRCPLL_FCY16MHz(<span class="keywordtype">void</span>);
<a name="l00383"></a>00383 <span class="preprocessor">#endif</span>
<a name="l00384"></a>00384 <span class="preprocessor"></span>
<a name="l00385"></a>00385 <span class="preprocessor">#if GET_IS_SUPPORTED(FRC_FCY4MHz)</span>
<a name="l00386"></a>00386 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockFRC_FCY4MHz(<span class="keywordtype">void</span>);
<a name="l00387"></a>00387 <span class="preprocessor">#endif</span>
<a name="l00388"></a>00388 <span class="preprocessor"></span>
<a name="l00389"></a>00389 <span class="preprocessor">#if GET_IS_SUPPORTED(PRI_NO_PLL_7372KHzCrystal)</span>
<a name="l00390"></a>00390 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockPRI_NO_PLL_7372KHzCrystal(<span class="keywordtype">void</span>);
<a name="l00391"></a>00391 <span class="preprocessor">#endif</span>
<a name="l00392"></a>00392 <span class="preprocessor"></span>
<a name="l00393"></a>00393 <span class="preprocessor">#if GET_IS_SUPPORTED(FRC_FCY3685KHz)</span>
<a name="l00394"></a>00394 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockFRC_FCY3685KHz(<span class="keywordtype">void</span>);
<a name="l00395"></a>00395 <span class="preprocessor">#endif</span>
<a name="l00396"></a>00396 <span class="preprocessor"></span>
<a name="l00397"></a>00397 <span class="preprocessor">#if GET_IS_SUPPORTED(FRCPLL_FCY40MHz)</span>
<a name="l00398"></a>00398 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockFRCPLL_FCY40MHz(<span class="keywordtype">void</span>);
<a name="l00399"></a>00399 <span class="preprocessor">#endif</span>
<a name="l00400"></a>00400 <span class="preprocessor"></span>
<a name="l00401"></a>00401 <span class="preprocessor">#if GET_IS_SUPPORTED(PRI_NO_PLL_7372KHzCrystal)</span>
<a name="l00402"></a>00402 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockPRIPLL_7372KHzCrystal_40MHzFCY(<span class="keywordtype">void</span>);
<a name="l00403"></a>00403 <span class="preprocessor">#endif</span>
<a name="l00404"></a>00404 <span class="preprocessor"></span>
<a name="l00405"></a>00405 <span class="preprocessor">#if GET_IS_SUPPORTED(PRIPLL_8MHzCrystal_40MHzFCY)</span>
<a name="l00406"></a>00406 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockPRIPLL_8MHzCrystal_40MHzFCY(<span class="keywordtype">void</span>);
<a name="l00407"></a>00407 <span class="preprocessor">#endif</span>
<a name="l00408"></a>00408 <span class="preprocessor"></span>
<a name="l00409"></a>00409 <span class="preprocessor">#if GET_IS_SUPPORTED(PRIPLL_8MHzCrystal_16MHzFCY)</span>
<a name="l00410"></a>00410 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockPRIPLL_8MHzCrystal_16MHzFCY(<span class="keywordtype">void</span>);
<a name="l00411"></a>00411 <span class="preprocessor">#endif</span>
<a name="l00412"></a>00412 <span class="preprocessor"></span>
<a name="l00413"></a>00413 <span class="preprocessor">#if GET_IS_SUPPORTED(PRI_8MHzCrystal_4MHzFCY)</span>
<a name="l00414"></a>00414 <span class="preprocessor"></span><span class="keywordtype">void</span> configClockPRI_8MHzCrystal_4MHzFCY(<span class="keywordtype">void</span>);
<a name="l00415"></a>00415 <span class="preprocessor">#endif</span>
<a name="l00416"></a>00416 <span class="preprocessor"></span>
<a name="l00417"></a>00417 
<a name="l00419"></a>00419 
<a name="l00423"></a><a class="code" href="pic24__clockfreq_8h.html#0471ea0db4cd7a2776d7441fa18f83fe">00423</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="pic24__clockfreq_8h.html#0471ea0db4cd7a2776d7441fa18f83fe">configClock</a>() {
<a name="l00424"></a>00424   <a class="code" href="pic24__clockfreq_8h.html#7f54f7524242dc0b982edd52f5d29720">CONFIG_DEFAULT_CLOCK</a>();
<a name="l00425"></a>00425 }
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 
<a name="l00440"></a>00440 <span class="keywordtype">void</span> <a class="code" href="pic24__clockfreq_8c.html#f30f27105b2dafe4262806b6d0fefe05">switchClock</a>(<a class="code" href="data_xfer_impl_8h.html#dde6aaee8457bee49c2a92621fe22b79" title="An abbreviation for an 8-bit unsigned integer.">uint8</a> u8_source);
<a name="l00441"></a>00441 
<a name="l00442"></a>00442 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Oct 18 07:40:47 2010 for Python-on-a-chip by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
